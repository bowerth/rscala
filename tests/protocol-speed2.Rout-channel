
R Under development (unstable) (2017-08-27 r73146) -- "Unsuffered Consequences"
Copyright (C) 2017 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> heap.maximum <- "4G"
> source("common.R",print.eval=TRUE)
# R Under development (unstable) (2017-08-27 r73146) # ramah # FALSE # TRUE
> 
> func1a <- function(x=matrix(0.0,nrow=100000,ncol=300)) {  # 228 MB
+   s %!% 'x'
+ }
> 
> func1b <- function(x=matrix(0.0,nrow=1000,ncol=300)) {  # 2.28 MB
+   s %!% 'x'
+ }
> 
> func2a <- function(x=integer(60000000)) {  # 228 MB
+   s %!% 'x'
+ }
> 
> func2b <- function(x=integer(600000)) {  # 2.28 MB
+   s %!% 'x'
+ }
> 
> 
> library(microbenchmark)
> set.seed(13124)
> 
> microbenchmark(
+   func1a(),
+   func1b(),
+   func2a(),
+   func2b(),
+   times=5)
Unit: milliseconds
     expr        min         lq       mean     median         uq        max
 func1a() 3820.89345 3889.96168 4130.97096 4214.68965 4313.10587 4416.20417
 func1b()  147.98452  148.16080  257.28345  164.74891  170.77430  654.74870
 func2a() 1643.90791 1671.74523 1850.04551 1687.59833 1774.59550 2472.38057
 func2b()   87.89419   88.69655   90.69154   91.94205   92.09787   92.82704
 neval
     5
     5
     5
     5
> 
> 
> proc.time()
   user  system elapsed 
 10.604   2.264  38.128 
